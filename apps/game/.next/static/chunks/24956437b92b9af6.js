(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},77022,e=>{"use strict";var t=e.i(43476),a=e.i(25913),r=e.i(54963);let s=(0,a.cva)("rounded-xl border transition-all duration-200",{variants:{variant:{default:"bg-card text-card-foreground shadow-sm",glass:"bg-[#09090b] border-white/5 text-foreground shadow-lg shadow-black/10 hover:border-white/10 rounded-3xl","glass-shimmer":"group relative bg-[#09090b]/80 border-white/5 text-foreground shadow-2xl hover:border-white/10 hover:shadow-[0_0_40px_-10px_rgba(255,255,255,0.1)] rounded-3xl overflow-hidden backdrop-blur-md",elevated:"bg-card text-card-foreground shadow-xl shadow-black/20 border-white/10"},padding:{none:"",sm:"p-4",md:"p-6",lg:"p-6 md:p-8"}},defaultVariants:{variant:"default",padding:"none"}});function n({className:e,variant:a,padding:n,children:o,...i}){return(0,t.jsxs)("div",{"data-slot":"card",className:(0,r.cn)(s({variant:a,padding:n,className:e})),...i,children:["glass-shimmer"===a&&(0,t.jsx)("div",{className:"absolute inset-0 -z-10 bg-linear-to-r from-transparent via-white/5 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),o]})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...a})}function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-sm text-muted-foreground",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("p-6 pt-0",e),...a})}e.s(["Card",()=>n,"CardContent",()=>d,"CardDescription",()=>l,"CardHeader",()=>o,"CardTitle",()=>i])},36931,91481,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r=[{id:"social_ads",name:"Social Ads (Instagram/TikTok)",cost_per_1k:135e3,max_spend_per_round:3e6,description:"Fast scale, fatigues after Round 3 (+20% cost).",efficiency_trend:"decreasing"},{id:"influencers",name:"Influencer Marketing",cost_per_1k:18e4,max_spend_per_round:3e6,description:"Steady, +10% bonus efficiency in next round.",efficiency_trend:"stable",special_effect:"momentum_bonus"},{id:"content_marketing",name:"Content Marketing (YouTube/SEO)",cost_per_1k:225e3,max_spend_per_round:3e6,description:"+5K organic lift in Rounds 4-6.",efficiency_trend:"increasing"},{id:"search_ads",name:"Paid Search (Google/Apple)",cost_per_1k:162e3,max_spend_per_round:3e6,description:"Costs rise 15% from Round 4 onwards.",efficiency_trend:"decreasing"},{id:"email",name:"Email Retargeting",cost_per_1k:108e3,max_spend_per_round:108e4,description:"₹45K setup cost in Round 1. Strong later.",efficiency_trend:"increasing"},{id:"referral",name:"Referral Program",cost_per_1k:9e4,max_spend_per_round:3e6,description:"Viral: 10K downloads = +2K free in next round.",efficiency_trend:"volatile",special_effect:"saturation_risk"},{id:"pr",name:"PR Partnerships",cost_per_1k:198e3,max_spend_per_round:2376e3,description:"+20% effect from Round 3 onwards.",efficiency_trend:"volatile"}];e.s(["CHANNELS",0,r,"MAX_ROUNDS",0,6,"MAX_TEAM_TOTAL_BUDGET",0,3e6,"TOTAL_BUDGET_POOL",0,15e6],91481);var s=e.i(69759),n=e.i(77022),o=e.i(43100),i=e.i(64030),l=e.i(46349),l=l,d=e.i(75254);let c=(0,d.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),u=(0,d.default)("gem",[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]]),m=(0,d.default)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);function x({teams:e,gameId:d,isFacilitator:x=!1}){let p=(0,s.createClient)(),[f,g]=(0,a.useState)(null),[h,b]=(0,a.useState)([]),[v,y]=(0,a.useState)(!1),j=[...e].sort((e,t)=>{let a=e.total_spent>0?e.total_downloads/(e.total_spent/1e5):0;return(t.total_spent>0?t.total_downloads/(t.total_spent/1e5):0)-a}),w=async e=>{if(x&&d){g(e),y(!0);try{let{data:t}=await p.from("sim_decisions").select("*").eq("game_id",d).eq("team_id",e.id).order("round_number",{ascending:!0});t&&b(t)}catch(e){console.error(e)}finally{y(!1)}}},N=r.reduce((e,t)=>(e[t.id]=h.reduce((e,a)=>e+(a.decisions[t.id]||0),0),e),{});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Card,{variant:"glass",children:[(0,t.jsx)(n.CardHeader,{className:"pb-2",children:(0,t.jsxs)(n.CardTitle,{className:"text-foreground flex items-center gap-2",children:[(0,t.jsx)(i.Trophy,{className:"w-5 h-5 text-yellow-500"}),"Leaderboard"]})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[j.map((e,a)=>{let r=e.total_spent>0?Math.floor(e.total_downloads/(e.total_spent/1e5)).toString():"0",s=0===a,n="bg-white/5 border-white/5 hover:bg-white/10",o="text-base",d=null;return s?(n="bg-cyan-500/10 border-cyan-500/50 shadow-[0_0_15px_rgba(6,182,212,0.3)] scale-[1.02] z-10 my-2",o="text-xl font-bold",d=(0,t.jsx)(u,{className:"w-8 h-8 text-cyan-400 fill-cyan-400/20 animate-pulse"})):1===a?(n="bg-yellow-500/10 border-yellow-500/30 my-1",o="text-lg",d=(0,t.jsx)(i.Trophy,{className:"w-6 h-6 text-yellow-400"})):2===a&&(n="bg-orange-500/10 border-orange-500/20",o="text-base",d=(0,t.jsx)(m,{className:"w-6 h-6 text-orange-400"})),(0,t.jsxs)("div",{onClick:()=>w(e),className:`flex items-center justify-between p-3 rounded-lg transition-all border ${n} ${x?"cursor-pointer":""}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`flex items-center justify-center font-bold shrink-0 ${s?"w-10 h-10":"w-8 h-8"}`,children:d||(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-muted-foreground",children:a+1})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:`font-medium flex items-center gap-2 text-foreground ${o}`,children:[e.name,x&&(0,t.jsx)(l.default,{className:"w-3 h-3 text-muted-foreground opacity-50"})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Math.floor(e.total_downloads).toLocaleString()," installs"]})]})]}),(0,t.jsxs)("div",{className:"text-right flex flex-col items-end gap-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 justify-end",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground hidden sm:inline-block",children:"Efficiency:"}),(0,t.jsxs)("div",{className:`font-bold flex items-center gap-1 ${s?"text-cyan-400 text-lg":"text-green-400 text-sm"}`,children:[r," ",(0,t.jsx)("span",{className:"text-xs font-normal text-muted-foreground",children:"downloads per 1 lakh"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 justify-end",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-muted-foreground hidden sm:inline-block",children:"Total Spent:"}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:["₹",(e.total_spent/1e5).toFixed(1),"L"]})]})]})]},e.id)}),0===j.length&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"No teams yet."})]})})]}),(0,t.jsx)(o.Dialog,{open:!!f,onOpenChange:e=>!e&&g(null),children:(0,t.jsxs)(o.DialogContent,{variant:"glass",className:"max-w-2xl max-h-[85vh] overflow-y-auto",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsxs)(o.DialogTitle,{className:"text-xl flex items-center gap-2",children:[(0,t.jsx)(c,{className:"w-5 h-5 text-blue-400"}),"Spending Breakdown: ",f?.name]}),(0,t.jsx)(o.DialogDescription,{children:"Detailed analysis of where money was spent."})]}),v?(0,t.jsx)("div",{className:"py-8 text-center text-muted-foreground animate-pulse",children:"Loading history..."}):(0,t.jsxs)("div",{className:"space-y-8 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground mb-3",children:"Total Spend by Channel"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[r.map(e=>{let a=N[e.id]||0;return 0===a?null:(0,t.jsxs)("div",{className:"bg-white/5 p-3 rounded border border-white/5",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground truncate",title:e.name,children:e.name}),(0,t.jsxs)("div",{className:"text-lg font-mono text-foreground",children:["₹",(a/1e5).toFixed(2),"L"]})]},e.id)}),Object.values(N).every(e=>0===e)&&(0,t.jsx)("div",{className:"text-sm text-muted-foreground col-span-full",children:"No spending recorded yet."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-bold uppercase tracking-wider text-muted-foreground mb-3",children:"Round History"}),(0,t.jsx)("div",{className:"space-y-4",children:0===h.length?(0,t.jsx)("p",{className:"text-sm text-muted-foreground italic",children:"No rounds submitted."}):h.map(e=>(0,t.jsxs)("div",{className:"bg-black/20 rounded-lg p-3 border border-white/5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2 border-b border-white/5 pb-2",children:[(0,t.jsxs)("span",{className:"font-bold text-blue-400",children:["Round ",e.round_number+1]}),(0,t.jsxs)("span",{className:"text-xs font-mono text-muted-foreground",children:["Total: ₹",(Object.values(e.decisions).reduce((e,t)=>e+t,0)/1e5).toFixed(2),"L"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:Object.entries(e.decisions).map(([e,a])=>{if(0===a)return null;let s=r.find(t=>t.id===e);return(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground truncate max-w-[120px]",children:s?.name||e}),(0,t.jsxs)("span",{className:"font-mono",children:["₹",(a/1e3).toFixed(0),"k"]})]},e)})})]},e.id))})]})]})]})})]})}e.s(["default",()=>x],36931)},64030,e=>{"use strict";let t=(0,e.i(75254).default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);e.s(["Trophy",()=>t],64030)},57881,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(25913),s=e.i(54963);let n=(0,r.cva)("flex h-10 w-full rounded-md px-3 py-1 text-base shadow-xs transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",{variants:{variant:{default:"border border-input bg-transparent shadow-sm hover:border-ring/50",ghost:"border-0 bg-secondary/30 hover:bg-secondary/50 focus-visible:bg-secondary/50 focus-visible:ring-0",glass:"bg-white/5 border border-white/10 backdrop-blur-sm focus-visible:bg-white/10 hover:border-white/20"}},defaultVariants:{variant:"default"}}),o=a.forwardRef(({className:e,variant:a,type:r,...o},i)=>(0,t.jsx)("input",{type:r,className:(0,s.cn)(n({variant:a,className:e})),ref:i,...o}));o.displayName="Input",e.s(["Input",()=>o])},43100,e=>{"use strict";let t,a;var r,s=e.i(43476),n=e.i(71645),o=e.i(81140),i=e.i(20783),l=e.i(10772),d=e.i(69340),c=e.i(26330),u=e.i(65491),m=e.i(74606),x=e.i(96626);function p(e){var t;let a,r=(t=e,(a=n.forwardRef((e,t)=>{let{children:a,...r}=e;if(n.isValidElement(a)){var s;let e,o,l=(s=a,(o=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(o=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),d=function(e,t){let a={...t};for(let r in t){let s=e[r],n=t[r];/^on[A-Z]/.test(r)?s&&n?a[r]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(a[r]=s):"style"===r?a[r]={...s,...n}:"className"===r&&(a[r]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(r,a.props);return a.type!==n.Fragment&&(d.ref=t?(0,i.composeRefs)(t,l):l),n.cloneElement(a,d)}return n.Children.count(a)>1?n.Children.only(null):null})).displayName=`${t}.SlotClone`,a),o=n.forwardRef((e,t)=>{let{children:a,...o}=e,i=n.Children.toArray(a),l=i.find(g);if(l){let e=l.props.children,a=i.map(t=>t!==l?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...o,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,s.jsx)(r,{...o,ref:t,children:a})});return o.displayName=`${e}.Slot`,o}e.i(74080);var f=Symbol("radix.slottable");function g(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===f}var h=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=p(`Primitive.${t}`),r=n.forwardRef((e,r)=>{let{asChild:n,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(n?a:t,{...o,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),b=e.i(3536),v=e.i(85369),y=e.i(86312),j="Dialog",[w,N]=function(e,t=[]){let a=[],r=()=>{let t=a.map(e=>n.createContext(e));return function(a){let r=a?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return r.scopeName=e,[function(t,r){let o=n.createContext(r),i=a.length;a=[...a,r];let l=t=>{let{scope:a,children:r,...l}=t,d=a?.[e]?.[i]||o,c=n.useMemo(()=>l,Object.values(l));return(0,s.jsx)(d.Provider,{value:c,children:r})};return l.displayName=t+"Provider",[l,function(a,s){let l=s?.[e]?.[i]||o,d=n.useContext(l);if(d)return d;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:r})=>{let s=a(e)[`__scope${r}`];return{...t,...s}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(r,...t)]}(j),[_,k]=w(j),C=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:o,onOpenChange:i,modal:c=!0}=e,u=n.useRef(null),m=n.useRef(null),[x,p]=(0,d.useControllableState)({prop:r,defaultProp:o??!1,onChange:i,caller:j});return(0,s.jsx)(_,{scope:t,triggerRef:u,contentRef:m,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:x,onOpenChange:p,onOpenToggle:n.useCallback(()=>p(e=>!e),[p]),modal:c,children:a})};C.displayName=j;var D="DialogTrigger",R=n.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=k(D,a),l=(0,i.useComposedRefs)(t,n.triggerRef);return(0,s.jsx)(h.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":W(n.open),...r,ref:l,onClick:(0,o.composeEventHandlers)(e.onClick,n.onOpenToggle)})});R.displayName=D;var M="DialogPortal",[S,E]=w(M,{forceMount:void 0}),O=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:o}=e,i=k(M,t);return(0,s.jsx)(S,{scope:t,forceMount:a,children:n.Children.map(r,e=>(0,s.jsx)(x.Presence,{present:a||i.open,children:(0,s.jsx)(m.Portal,{asChild:!0,container:o,children:e})}))})};O.displayName=M;var T="DialogOverlay",I=n.forwardRef((e,t)=>{let a=E(T,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,o=k(T,e.__scopeDialog);return o.modal?(0,s.jsx)(x.Presence,{present:r||o.open,children:(0,s.jsx)(F,{...n,ref:t})}):null});I.displayName=T;var A=p("DialogOverlay.RemoveScroll"),F=n.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=k(T,a);return(0,s.jsx)(v.RemoveScroll,{as:A,allowPinchZoom:!0,shards:[n.contentRef],children:(0,s.jsx)(h.div,{"data-state":W(n.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),P="DialogContent",z=n.forwardRef((e,t)=>{let a=E(P,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,o=k(P,e.__scopeDialog);return(0,s.jsx)(x.Presence,{present:r||o.open,children:o.modal?(0,s.jsx)($,{...n,ref:t}):(0,s.jsx)(L,{...n,ref:t})})});z.displayName=P;var $=n.forwardRef((e,t)=>{let a=k(P,e.__scopeDialog),r=n.useRef(null),l=(0,i.useComposedRefs)(t,a.contentRef,r);return n.useEffect(()=>{let e=r.current;if(e)return(0,y.hideOthers)(e)},[]),(0,s.jsx)(H,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,o.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,o.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),L=n.forwardRef((e,t)=>{let a=k(P,e.__scopeDialog),r=n.useRef(!1),o=n.useRef(!1);return(0,s.jsx)(H,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||a.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let s=t.target;a.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),H=n.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=e,m=k(P,a),x=n.useRef(null),p=(0,i.useComposedRefs)(t,x);return(0,b.useFocusGuards)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:l,children:(0,s.jsx)(c.DismissableLayer,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":W(m.open),...d,ref:p,onDismiss:()=>m.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J,{titleId:m.titleId}),(0,s.jsx)(Q,{contentRef:x,descriptionId:m.descriptionId})]})]})}),V="DialogTitle",q=n.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=k(V,a);return(0,s.jsx)(h.h2,{id:n.titleId,...r,ref:t})});q.displayName=V;var B="DialogDescription",G=n.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=k(B,a);return(0,s.jsx)(h.p,{id:n.descriptionId,...r,ref:t})});G.displayName=B;var U="DialogClose",K=n.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=k(U,a);return(0,s.jsx)(h.button,{type:"button",...r,ref:t,onClick:(0,o.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function W(e){return e?"open":"closed"}K.displayName=U;var X="DialogTitleWarning",[Z,Y]=(r={contentName:P,titleName:V,docsSlug:"dialog"},t=n.createContext(r),(a=e=>{let{children:a,...r}=e,o=n.useMemo(()=>r,Object.values(r));return(0,s.jsx)(t.Provider,{value:o,children:a})}).displayName=X+"Provider",[a,function(e){let a=n.useContext(t);if(a)return a;if(void 0!==r)return r;throw Error(`\`${e}\` must be used within \`${X}\``)}]),J=({titleId:e})=>{let t=Y(X),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return n.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},Q=({contentRef:e,descriptionId:t})=>{let a=Y("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return n.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ee=e.i(41947),ee=ee,et=e.i(25913),ea=e.i(54963);function er({...e}){return(0,s.jsx)(C,{"data-slot":"dialog",...e})}function es({...e}){return(0,s.jsx)(R,{"data-slot":"dialog-trigger",...e})}function en({...e}){return(0,s.jsx)(O,{"data-slot":"dialog-portal",...e})}function eo({className:e,...t}){return(0,s.jsx)(I,{"data-slot":"dialog-overlay",className:(0,ea.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",e),...t})}let ei=(0,et.cva)("fixed top-[50%] left-[50%] z-50 grid w-full translate-x-[-50%] translate-y-[-50%] gap-4 rounded-xl p-6 shadow-2xl duration-200 outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",{variants:{variant:{default:"bg-[#09090b] border border-white/10 ring-1 ring-white/5 shadow-black/50",glass:"bg-black/40 backdrop-blur-2xl border border-white/10 ring-1 ring-white/5 shadow-black/20",simple:"bg-background border border-border shadow-lg"},size:{default:"max-w-[calc(100%-2rem)] sm:max-w-lg",sm:"max-w-[calc(100%-2rem)] sm:max-w-sm",lg:"max-w-[calc(100%-2rem)] sm:max-w-2xl",xl:"max-w-[calc(100%-2rem)] sm:max-w-4xl",full:"max-w-[calc(100%-2rem)] h-[90vh] sm:max-w-[90vw]"}},defaultVariants:{variant:"default",size:"default"}});function el({className:e,children:t,showCloseButton:a=!0,variant:r,size:n,...o}){return(0,s.jsxs)(en,{"data-slot":"dialog-portal",children:[(0,s.jsx)(eo,{}),(0,s.jsxs)(z,{"data-slot":"dialog-content",className:(0,ea.cn)(ei({variant:r,size:n,className:e})),...o,children:[t,a&&(0,s.jsxs)(K,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(ee.default,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ed({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,ea.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ec({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-footer",className:(0,ea.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function eu({className:e,...t}){return(0,s.jsx)(q,{"data-slot":"dialog-title",className:(0,ea.cn)("text-lg leading-none font-semibold font-heading tracking-tight",e),...t})}function em({className:e,...t}){return(0,s.jsx)(G,{"data-slot":"dialog-description",className:(0,ea.cn)("text-muted-foreground text-sm",e),...t})}e.s(["Dialog",()=>er,"DialogContent",()=>el,"DialogDescription",()=>em,"DialogFooter",()=>ec,"DialogHeader",()=>ed,"DialogTitle",()=>eu,"DialogTrigger",()=>es],43100)},15603,e=>{"use strict";var t=e.i(43476),a=e.i(91918),r=e.i(25913),s=e.i(54963);let n=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500/15 text-emerald-500 hover:bg-emerald-500/25",warning:"border-transparent bg-amber-500/15 text-amber-500 hover:bg-amber-500/25",danger:"border-transparent bg-rose-500/15 text-rose-500 hover:bg-rose-500/25",glass:"border-white/10 bg-white/5 text-foreground backdrop-blur-md shadow-sm"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r,asChild:o=!1,...i}){let l=o?a.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,s.cn)(n({variant:r}),e),...i})}e.s(["Badge",()=>o])},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},15831,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(77022),n=e.i(16798),o=e.i(57881),i=e.i(95187);let l=(0,i.createServerReference)("006adc999aa636125d093180d8c816b171cac83965",i.callServer,void 0,i.findSourceMapURL,"createGame");var d=e.i(46696),c=e.i(75254);let u=(0,c.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),m=(0,c.default)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);var x=e.i(87316),p=e.i(64030),f=e.i(78917),g=e.i(69759),h=e.i(36931),b=e.i(43100),v=e.i(15603);function y(){let e=(0,r.useRouter)(),[i,c]=(0,a.useState)(!1),[y,j]=(0,a.useState)([]),[w,N]=(0,a.useState)(""),[_,k]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let e=(0,g.createClient)(),{data:t,error:a}=await e.from("sim_games").select("*, sim_teams(*)").order("created_at",{ascending:!1});a?(console.error("Error fetching games:",a),d.toast.error("Failed to load game history")):j(t),k(!1)})()},[]);let C=async()=>{try{c(!0);let t=await l();d.toast.success("Game Created!",{description:`Game Code: ${t.code}`}),e.push(`/game/${t.code}`)}catch(e){d.toast.error("Failed to create game",{description:e instanceof Error?e.message:"Unknown error"})}finally{c(!1)}},D=y.filter(e=>!w||new Date(e.created_at).toISOString().split("T")[0]===w);return(0,t.jsxs)("div",{className:"min-h-screen p-4 font-sans max-w-[1600px] mx-auto text-foreground relative",children:[(0,t.jsx)("div",{className:"fixed inset-0 z-[-1] bg-page-gradient pointer-events-none"}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsxs)(s.Card,{variant:"glass",className:"w-full",children:[(0,t.jsxs)(s.CardHeader,{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto w-12 h-12 bg-red-500/10 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(u,{className:"w-6 h-6 text-red-500"})}),(0,t.jsx)(s.CardTitle,{className:"text-2xl font-heading text-foreground",children:"Admin Console"}),(0,t.jsx)(s.CardDescription,{className:"text-muted-foreground",children:"Create and manage Growth Strategy Lab simulations."})]}),(0,t.jsxs)(s.CardContent,{className:"space-y-4 max-w-md mx-auto",children:[(0,t.jsx)(n.Button,{onClick:C,disabled:i,variant:"default",className:"w-full h-12 text-lg",children:i?"Creating...":(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"w-4 h-4"})," Start New Simulation"]})}),(0,t.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"Only authorized admin emails can perform this action."})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,t.jsx)(x.Calendar,{className:"w-5 h-5 text-muted-foreground"}),"Game Archives"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Filter Date:"}),(0,t.jsx)(o.Input,{type:"date",value:w,onChange:e=>N(e.target.value),className:"w-auto h-8 bg-black/20 border-white/10"})]})]}),_?(0,t.jsx)("div",{className:"text-center py-10 text-muted-foreground animate-pulse",children:"Loading games..."}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:0===D.length?(0,t.jsx)("div",{className:"col-span-full text-center py-10 text-muted-foreground border border-dashed border-white/10 rounded-lg",children:"No games found."}):D.map(e=>{var a;let r=(a=e.sim_teams)&&0!==a.length?[...a].sort((e,t)=>{let a=e.total_spent>0?e.total_downloads/(e.total_spent/1e5):0;return(t.total_spent>0?t.total_downloads/(t.total_spent/1e5):0)-a})[0]:null;return(0,t.jsx)(s.Card,{variant:"glass",className:"hover:bg-white/5 transition-colors",children:(0,t.jsxs)(s.CardContent,{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(v.Badge,{variant:"outline",className:"font-mono text-xs",children:e.code}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"uppercase tracking-wider text-[10px] font-bold text-muted-foreground",children:[e.status," • ",e.sim_teams.length," Teams"]})]}),(0,t.jsxs)(b.Dialog,{children:[(0,t.jsx)(b.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{size:"sm",variant:"ghost",className:"h-8 gap-1",children:["View ",(0,t.jsx)(f.ExternalLink,{className:"w-3 h-3"})]})}),(0,t.jsx)(b.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:(0,t.jsx)(h.default,{teams:e.sim_teams,gameId:e.id,isFacilitator:!0})})]})]}),r?(0,t.jsxs)("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-md p-3 flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-yellow-500/20 p-2 rounded-full",children:(0,t.jsx)(p.Trophy,{className:"w-4 h-4 text-center text-yellow-500"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-foreground",children:r.name}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[Math.floor(r.total_downloads/(Math.max(1,r.total_spent)/1e5))," Efficiency"]})]}),(0,t.jsxs)("div",{className:"ml-auto text-right",children:[(0,t.jsxs)("div",{className:"text-xs font-mono text-foreground",children:["₹",(r.total_spent/1e5).toFixed(1),"L"]}),(0,t.jsx)("div",{className:"text-[10px] text-muted-foreground",children:"Spent"})]})]}):(0,t.jsx)("div",{className:"bg-white/5 rounded-md p-3 text-xs text-muted-foreground text-center",children:"No data yet"})]})},e.id)})})]})]})]})}e.s(["default",()=>y],15831)}]);