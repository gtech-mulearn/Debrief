{"version":3,"sources":["../../../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../apps/web/src/app/admin/layout.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\n\nimport { useAuth } from \"@/hooks\";\nimport { checkIsAdmin } from \"@/app/actions/admin-actions\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\nexport default function AdminLayout({ children }: { children: React.ReactNode }) {\n    const { user, loading } = useAuth();\n    const router = useRouter();\n    const [isAuthorized, setIsAuthorized] = useState(false);\n\n    useEffect(() => {\n        if (!loading) {\n            if (!user || !user.email) {\n                router.replace(\"/\");\n            } else {\n                checkIsAdmin().then((res) => {\n                    if (res.isAdmin) {\n                        setIsAuthorized(true);\n                    } else {\n                        console.error(\"Admin verification failed:\", res.error);\n                        router.replace(\"/\");\n                    }\n                });\n            }\n        }\n    }, [user, loading, router]);\n\n    if (loading || !isAuthorized) {\n        return (\n            <div className=\"flex min-h-screen items-center justify-center bg-black\">\n                <div className=\"flex flex-col items-center gap-4\">\n                    <div className=\"h-8 w-8 animate-spin rounded-full border-4 border-white/10 border-t-purple-500\" />\n                    <div className=\"text-muted-foreground animate-pulse\">Verifying admin access...</div>\n                </div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-black pt-20 pb-10\">\n            {children}\n        </div>\n    );\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"gjBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,kBAAkB,+BCFzCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,0CCAzC,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,EAAY,UAAE,CAAQ,CAAiC,EAC3E,GAAM,MAAE,CAAI,SAAE,CAAO,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC3B,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAmBjD,CAjBA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACD,IACG,AAAC,GAAS,EADJ,AACS,GAAN,EAAW,CAGpB,CAAA,AAHsB,EAGtB,EAAA,YAAA,AAAY,IAAG,IAAI,CAAC,AAAC,IACb,EAAI,OAAO,CACX,CADa,EACG,IAEhB,QAAQ,KAAK,CAAC,6BAA8B,EAAI,KAAK,EACrD,EAAO,OAAO,CAAC,KAEvB,GATA,EAAO,OAAO,CAAC,KAY3B,EAAG,CAAC,EAAM,EAAS,EAAO,EAEtB,GAAW,CAAC,GAER,CAAA,EAAA,EAAA,GAAA,EAAC,CAFqB,KAErB,CAAI,UAAU,kEACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mFACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+CAAsC,mCAOjE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACV,GAGb","ignoreList":[0,1]}