module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},79889,a=>{"use strict";a.i(12447),a.i(71316),a.i(87924),a.i(38246),a.s([],79889)},92552,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(760);let e=(0,c.cva)("rounded-xl border transition-all duration-200",{variants:{variant:{default:"bg-card text-card-foreground shadow-sm",glass:"bg-[#09090b] border-white/5 text-foreground shadow-lg shadow-black/10 hover:border-white/10 rounded-3xl","glass-shimmer":"group relative bg-[#09090b]/80 border-white/5 text-foreground shadow-2xl hover:border-white/10 hover:shadow-[0_0_40px_-10px_rgba(255,255,255,0.1)] rounded-3xl overflow-hidden backdrop-blur-md",elevated:"bg-card text-card-foreground shadow-xl shadow-black/20 border-white/10"},padding:{none:"",sm:"p-4",md:"p-6",lg:"p-6 md:p-8"}},defaultVariants:{variant:"default",padding:"none"}});function f({className:a,variant:c,padding:f,children:g,...h}){return(0,b.jsxs)("div",{"data-slot":"card",className:(0,d.cn)(e({variant:c,padding:f,className:a})),...h,children:["glass-shimmer"===c&&(0,b.jsx)("div",{className:"absolute inset-0 -z-10 bg-linear-to-r from-transparent via-white/5 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),g]})}function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c})}function h({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c})}function i({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,d.cn)("text-sm text-muted-foreground",a),...c})}function j({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,d.cn)("p-6 pt-0",a),...c})}a.s(["Card",()=>f,"CardContent",()=>j,"CardDescription",()=>i,"CardHeader",()=>g,"CardTitle",()=>h])},63588,a=>{"use strict";let b=(0,a.i(70106).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],63588)},68177,a=>{"use strict";var b=a.i(87924),c=a.i(11011),d=a.i(187),e=a.i(760);let f=(0,d.cva)("inline-flex items-center justify-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500/15 text-emerald-500 hover:bg-emerald-500/25",warning:"border-transparent bg-amber-500/15 text-amber-500 hover:bg-amber-500/25",danger:"border-transparent bg-rose-500/15 text-rose-500 hover:bg-rose-500/25",glass:"border-white/10 bg-white/5 text-foreground backdrop-blur-md shadow-sm"}},defaultVariants:{variant:"default"}});function g({className:a,variant:d,asChild:g=!1,...h}){let i=g?c.Slot:"span";return(0,b.jsx)(i,{"data-slot":"badge",className:(0,e.cn)(f({variant:d}),a),...h})}a.s(["Badge",()=>g])},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},52309,a=>{"use strict";var b=a.i(87924),c=a.i(760);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"skeleton",className:(0,c.cn)("bg-accent animate-pulse rounded-md",a),...d})}a.s(["Skeleton",()=>d])},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},46940,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(79889);var d=a.i(12447),e=a.i(38246),f=a.i(760),g=a.i(92552),h=a.i(68177),i=a.i(48645),j=a.i(3804),k=a.i(4171),l=a.i(23292),m=a.i(50944);let n=(0,a.i(70106).default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var o=a.i(63588),p=a.i(24669),q=a.i(41710);function r({idea:a,variant:c="glass"}){let d=(0,m.useRouter)(),{user:r,isAuthenticated:s,loading:t}=(0,k.useAuth)(),{mutate:u,isPending:v}=(0,j.useVote)(a.id),{mutate:w,isPending:x}=(0,j.useRemoveVote)(a.id),y=a.user_vote?.value,z=(a.upvotes_count??0)-(a.downvotes_count??0),A=z>0,B=(b,c)=>{if(b.preventDefault(),b.stopPropagation(),!t){if(!s){l.toast.info("Please sign in to vote"),d.push(`/login?redirectTo=/ideas/${a.id}`);return}y===c?w():u(c)}};return(0,b.jsx)(e.default,{href:`/ideas/${a.id}`,className:"group block h-full",children:(0,b.jsxs)(g.Card,{variant:"glass-shimmer",className:"relative h-full flex flex-col transition-all duration-500 hover:-translate-y-1",children:[(0,b.jsx)("div",{className:"absolute -right-20 -top-20 h-64 w-64 rounded-full bg-[#7877c6]/10 blur-[80px] transition-all duration-700 group-hover:bg-[#7877c6]/20"}),(0,b.jsxs)("div",{className:"relative z-10 flex flex-1 flex-col p-5 md:p-8",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(i.Avatar,{className:"h-10 w-10 border border-white/10 shadow-sm",children:[(0,b.jsx)(i.AvatarImage,{src:a.author?.avatar_url||void 0,className:"object-cover"}),(0,b.jsx)(i.AvatarFallback,{className:"bg-white/5 text-xs text-muted-foreground",children:(0,f.getInitials)(a.author?.full_name)})]}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-foreground/90 line-clamp-1",children:a.author?.full_name||"Anonymous"}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,f.formatDistanceToNow)(a.created_at)})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[z>5&&(0,b.jsxs)(h.Badge,{variant:"default",className:"gap-1.5 px-3 py-1 rounded-full bg-[#7877c6]/10 text-[#7877c6] border border-[#7877c6]/20 backdrop-blur-md",children:[(0,b.jsx)(p.TrendingUp,{className:"h-3 w-3"}),"Trending"]}),!A&&(0,b.jsxs)(h.Badge,{variant:"glass",className:"gap-1.5 px-3 py-1 rounded-full text-muted-foreground bg-white/5 border-white/5 shadow-none",children:[(0,b.jsx)(q.Clock,{className:"h-3 w-3"}),"New"]})]})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsx)("h3",{className:"font-heading text-xl md:text-2xl font-bold leading-tight text-foreground transition-colors group-hover:text-primary",children:a.title}),(0,b.jsx)("p",{className:"line-clamp-3 text-sm leading-relaxed text-muted-foreground/80 group-hover:text-muted-foreground/90 transition-colors",children:a.description})]})]}),(0,b.jsx)("div",{className:"relative z-10 mt-auto border-t border-white/5 bg-white/[0.02] p-4 backdrop-blur-sm transition-colors group-hover:bg-white/[0.04]",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 rounded-full bg-black/20 p-1 ring-1 ring-white/5 backdrop-blur-md",children:[(0,b.jsx)("button",{onClick:a=>B(a,1),disabled:v||x||t,className:(0,f.cn)("flex h-8 w-10 items-center justify-center rounded-full transition-all active:scale-95 disabled:opacity-50",1===y?"bg-emerald-500/20 text-emerald-400 shadow-[0_0_10px_-2px_rgba(16,185,129,0.3)]":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:(0,b.jsx)(n,{className:"h-4 w-4 -rotate-45"})}),(0,b.jsx)("span",{className:(0,f.cn)("min-w-[1.5rem] text-center text-sm font-bold tabular-nums",z>0?"text-emerald-400":z<0?"text-rose-400":"text-muted-foreground"),children:z>0?`+${z}`:z}),(0,b.jsx)("button",{onClick:a=>B(a,-1),disabled:v||x||t,className:(0,f.cn)("flex h-8 w-10 items-center justify-center rounded-full transition-all active:scale-95 disabled:opacity-50",-1===y?"bg-rose-500/20 text-rose-400 shadow-[0_0_10px_-2px_rgba(244,63,94,0.3)]":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:(0,b.jsx)(n,{className:(0,f.cn)("h-4 w-4 rotate-135")})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[(0,b.jsx)(o.MessageSquare,{className:"h-4 w-4 opacity-70"}),(0,b.jsx)("span",{children:a.comments_count||0})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-primary opacity-0 -translate-x-2 transition-all duration-300 group-hover:opacity-100 group-hover:translate-x-0",children:["View",(0,b.jsx)(n,{className:"h-3 w-3"})]})]})]})})]})})}a.i(38912);var s=a.i(94203),t=a.i(39524),u=a.i(52309);function v({sort:a="votes_desc"}){let{data:c,fetchNextPage:d,hasNextPage:e,isFetchingNextPage:f,isLoading:g,isError:h,error:i}=(0,s.useIdeas)({sort:a});if(g)return(0,b.jsx)(w,{});if(h)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border border-dashed border-border bg-card/50 p-12 text-center",children:[(0,b.jsx)("p",{className:"font-display text-xl font-semibold text-foreground",children:"Error loading ideas"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:i?.message||"Something went wrong. Please try again."})]});let j=c?.pages.flatMap(a=>a.data)??[];return 0===j.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border border-dashed border-border bg-card/50 p-16 text-center",children:[(0,b.jsx)("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:(0,b.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,b.jsx)("p",{className:"font-display text-xl font-semibold text-foreground",children:"No ideas yet"}),(0,b.jsx)("p",{className:"mt-2 max-w-sm text-sm text-muted-foreground mb-6",children:"Be the first to share an idea!"}),(0,b.jsx)(t.Button,{variant:"mint",size:"pill",asChild:!0,children:(0,b.jsx)("a",{href:"/ideas/new",children:"Create Idea"})})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[j.map((a,c)=>(0,b.jsx)(r,{idea:a,variant:"default"},a.id)),e&&(0,b.jsx)("div",{className:"flex justify-center pt-4",children:(0,b.jsx)(t.Button,{variant:"secondary",size:"pill",onClick:()=>d(),disabled:f,children:f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Loading..."]}):"Load more"})})]})}function w(){return(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(a=>(0,b.jsxs)("div",{className:"relative flex flex-col overflow-hidden rounded-2xl border border-white/5 bg-[#09090b]/80 backdrop-blur-md",children:[(0,b.jsxs)("div",{className:"flex flex-1 flex-col p-5 md:p-8",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(u.Skeleton,{className:"h-10 w-10 rounded-full"}),(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)(u.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(u.Skeleton,{className:"h-3 w-16"})]})]}),(0,b.jsx)(u.Skeleton,{className:"h-6 w-16 rounded-full"})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsx)(u.Skeleton,{className:"h-7 md:h-8 w-4/5"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Skeleton,{className:"h-4 w-full"}),(0,b.jsx)(u.Skeleton,{className:"h-4 w-full"}),(0,b.jsx)(u.Skeleton,{className:"h-4 w-2/3"})]})]})]}),(0,b.jsx)("div",{className:"border-t border-white/5 bg-white/[0.02] p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(u.Skeleton,{className:"h-10 w-28 rounded-full"}),(0,b.jsx)(u.Skeleton,{className:"h-5 w-12"})]})})]},a))})}var x=a.i(23979);let y=[{value:"votes_desc",label:"Most Votes",icon:"â–¼"},{value:"votes_asc",label:"Least Votes",icon:"â–²"},{value:"created_desc",label:"Newest First",icon:"ðŸ•"},{value:"created_asc",label:"Oldest First",icon:"ðŸ•"}];function z({value:a,onChange:c}){let d=y.find(b=>b.value===a);return(0,b.jsxs)(x.DropdownMenu,{children:[(0,b.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(t.Button,{variant:"secondary",size:"pill-sm",className:"gap-2",children:[(0,b.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M3 6h18M6 12h12M9 18h6"})}),"Sort: ",d?.label||"Most Votes",(0,b.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M6 9l6 6 6-6"})})]})}),(0,b.jsxs)(x.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(x.DropdownMenuLabel,{className:"text-xs text-muted-foreground",children:"Sort by Votes"}),(0,b.jsxs)(x.DropdownMenuItem,{onClick:()=>c("votes_desc"),className:"votes_desc"===a?"bg-accent":"",children:[(0,b.jsx)("span",{className:"mr-2",children:"â–¼"})," Most Votes"]}),(0,b.jsxs)(x.DropdownMenuItem,{onClick:()=>c("votes_asc"),className:"votes_asc"===a?"bg-accent":"",children:[(0,b.jsx)("span",{className:"mr-2",children:"â–²"})," Least Votes"]}),(0,b.jsx)(x.DropdownMenuSeparator,{}),(0,b.jsx)(x.DropdownMenuLabel,{className:"text-xs text-muted-foreground",children:"Sort by Time"}),(0,b.jsxs)(x.DropdownMenuItem,{onClick:()=>c("created_desc"),className:"created_desc"===a?"bg-accent":"",children:[(0,b.jsx)("span",{className:"mr-2",children:"ðŸ•"})," Newest First"]}),(0,b.jsxs)(x.DropdownMenuItem,{onClick:()=>c("created_asc"),className:"created_asc"===a?"bg-accent":"",children:[(0,b.jsx)("span",{className:"mr-2",children:"ðŸ•"})," Oldest First"]})]})]})}function A(){let[a,e]=(0,c.useState)("votes_desc");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Header,{}),(0,b.jsxs)("main",{className:"mx-auto w-full max-w-[1600px] px-4 md:px-8 pt-24 md:pt-32 pb-12",children:[(0,b.jsx)("div",{className:"flex justify-end mb-4",children:(0,b.jsx)(z,{value:a,onChange:e})}),(0,b.jsx)(v,{sort:a})]})]})}a.s(["default",()=>A],46940)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__69741cf3._.js.map