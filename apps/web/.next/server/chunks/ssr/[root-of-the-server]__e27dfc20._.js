module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},79889,a=>{"use strict";a.i(12447),a.i(71316),a.i(87924),a.i(38246),a.s([],79889)},21238,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);a.i(79889);var e=a.i(12447),f=a.i(39524);a.i(38912);var g=a.i(94203),h=a.i(4171);function i(){let a=(0,d.useRouter)(),{isAuthenticated:i,loading:j}=(0,h.useAuth)(),{mutate:k,isPending:l}=(0,g.useCreateIdea)(),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)({});return((0,c.useEffect)(()=>{j||i||a.push("/login?redirectTo=/ideas/new")},[j,i,a]),j)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("main",{className:"main-container",children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)("div",{className:"loading-spinner"})})})]}):i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Header,{}),(0,b.jsxs)("main",{className:"mx-auto max-w-7xl px-6 pt-32 pb-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"font-display text-2xl font-bold text-foreground mb-2",children:"New Idea"}),(0,b.jsx)("p",{className:"font-sans text-base text-muted-foreground",children:"Share your idea with the community"})]}),(0,b.jsxs)("form",{onSubmit:b=>{let c;b.preventDefault(),c={},m.trim()?m.length<3?c.title="Title must be at least 3 characters":m.length>200&&(c.title="Title must be at most 200 characters"):c.title="Title is required",o.trim()?o.length<10?c.description="Description must be at least 10 characters":o.length>5e3&&(c.description="Description must be at most 5000 characters"):c.description="Description is required",r(c),0===Object.keys(c).length&&k({title:m.trim(),description:o.trim()},{onSuccess:b=>{let c=b?.data?.id;c?a.push(`/ideas/${c}`):a.push("/")}})},className:"max-w-xl space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"title",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Enter your question!"}),(0,b.jsx)("input",{id:"title",type:"text",value:m,onChange:a=>n(a.target.value),placeholder:"What's your idea?",className:`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${q.title?"border-destructive focus-visible:ring-destructive":"border-input"}`,disabled:l}),q.title&&(0,b.jsx)("p",{className:"text-sm font-medium text-destructive",children:q.title})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{htmlFor:"description",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Description"}),(0,b.jsx)("textarea",{id:"description",value:o,onChange:a=>p(a.target.value),placeholder:"Describe your idea in detail...",className:`flex min-h-[120px] w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${q.description?"border-destructive focus-visible:ring-destructive":"border-input"}`,disabled:l}),q.description&&(0,b.jsx)("p",{className:"text-sm font-medium text-destructive",children:q.description}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[o.length,"/5000 characters"]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)(f.Button,{type:"button",variant:"secondary",size:"pill",onClick:()=>a.back(),disabled:l,children:"Cancel"}),(0,b.jsx)(f.Button,{type:"submit",variant:"shimmer-primary",size:"pill",disabled:l,children:l?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Creating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M12 5v14M5 12h14"})}),"POST"]})})]})]})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Header,{}),(0,b.jsx)("main",{className:"main-container",children:(0,b.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,b.jsx)("div",{className:"loading-spinner"}),(0,b.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Redirecting to login..."})]})})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e27dfc20._.js.map