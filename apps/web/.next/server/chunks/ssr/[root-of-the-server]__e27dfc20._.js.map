{"version":3,"sources":["../../../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../apps/web/src/components/layout/index.ts","../../../../../../apps/web/src/components/layout/footer.tsx","../../../../../../apps/web/src/app/ideas/new/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","export { Header } from \"./header\";\nexport { AuthButton } from \"./auth-button\";\nexport { Footer } from \"./footer\";\n","import Link from \"next/link\";\nimport { cn } from \"@/lib/utils\";\n\nexport function Footer() {\n    return (\n        <footer className=\"border-t border-white/5 bg-black/20 backdrop-blur-md\">\n            <div className=\"mx-auto flex w-full max-w-7xl flex-col items-center justify-between gap-6 px-4 py-4 md:flex-row md:gap-0 md:px-8\">\n                <div className=\"flex flex-col items-center gap-2 md:items-start\">\n                    <Link href=\"/\" className=\"flex items-center gap-2\">\n                        <span className=\"font-display text-lg font-bold tracking-tight text-white/90\">debrief</span>\n                    </Link>\n\n                </div>\n\n                <div className=\"flex flex-col items-center gap-4 md:flex-row md:gap-8\">\n                    <nav className=\"flex gap-4 text-sm font-medium text-muted-foreground\">\n                        <Link href=\"/terms\" className=\"hover:text-white transition-colors\">\n                            Terms\n                        </Link>\n                        <Link href=\"/privacy\" className=\"hover:text-white transition-colors\">\n                            Privacy\n                        </Link>\n                    </nav>\n\n                    <div className=\"text-sm text-muted-foreground/60\">\n                        &copy; {new Date().getFullYear()} <a href=\"https://mulearn.org\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:text-white transition-colors\">ÂµLearn</a>. All rights reserved.\n                    </div>\n                </div>\n            </div>\n        </footer>\n    );\n}\n","/**\n * New Idea Page\n * \n * Form for creating a new idea.\n */\n\n\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Header } from \"@/components/layout\";\nimport { Button } from \"@/components/ui/button\";\nimport { useCreateIdea, useAuth } from \"@/hooks\";\nimport { toast } from \"sonner\";\n\nexport default function NewIdeaPage() {\n    const router = useRouter();\n    const { isAuthenticated, loading: authLoading } = useAuth();\n    const { mutate: createIdea, isPending } = useCreateIdea();\n\n    const [title, setTitle] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n    const [errors, setErrors] = useState<{ title?: string; description?: string }>({});\n\n    // Redirect to login if not authenticated (after loading completes)\n    useEffect(() => {\n        if (!authLoading && !isAuthenticated) {\n            router.push(\"/login?redirectTo=/ideas/new\");\n        }\n    }, [authLoading, isAuthenticated, router]);\n\n    const validate = (): boolean => {\n        const newErrors: { title?: string; description?: string } = {};\n\n        if (!title.trim()) {\n            newErrors.title = \"Title is required\";\n        } else if (title.length < 3) {\n            newErrors.title = \"Title must be at least 3 characters\";\n        } else if (title.length > 200) {\n            newErrors.title = \"Title must be at most 200 characters\";\n        }\n\n        if (!description.trim()) {\n            newErrors.description = \"Description is required\";\n        } else if (description.length < 10) {\n            newErrors.description = \"Description must be at least 10 characters\";\n        } else if (description.length > 5000) {\n            newErrors.description = \"Description must be at most 5000 characters\";\n        }\n\n        setErrors(newErrors);\n        return Object.keys(newErrors).length === 0;\n    };\n\n    const handleSubmit = (e: React.FormEvent) => {\n        e.preventDefault();\n\n        if (!validate()) return;\n\n        createIdea(\n            { title: title.trim(), description: description.trim() },\n            {\n                onSuccess: (response) => {\n                    // Access ID from response.data\n                    const ideaId = response?.data?.id;\n                    if (ideaId) {\n                        router.push(`/ideas/${ideaId}`);\n                    } else {\n                        router.push(\"/\");\n                    }\n                },\n            }\n        );\n    };\n\n    // Show loading while checking auth\n    if (authLoading) {\n        return (\n            <>\n                <Header />\n                <main className=\"main-container\">\n                    <div className=\"flex items-center justify-center py-12\">\n                        <div className=\"loading-spinner\" />\n                    </div>\n                </main>\n            </>\n        );\n    }\n\n    // Don't render form if not authenticated (will redirect)\n    if (!isAuthenticated) {\n        return (\n            <>\n                <Header />\n                <main className=\"main-container\">\n                    <div className=\"flex items-center justify-center py-12\">\n                        <div className=\"loading-spinner\" />\n                        <span className=\"ml-2 text-muted-foreground\">Redirecting to login...</span>\n                    </div>\n                </main>\n            </>\n        );\n    }\n\n    return (\n        <>\n            <Header />\n            <main className=\"mx-auto max-w-7xl px-6 pt-32 pb-8\">\n                <div className=\"mb-8\">\n                    <h1 className=\"font-display text-2xl font-bold text-foreground mb-2\">New Idea</h1>\n                    <p className=\"font-sans text-base text-muted-foreground\">Share your idea with the community</p>\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"max-w-xl space-y-6\">\n                    <div className=\"space-y-2\">\n                        <label htmlFor=\"title\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                            Enter your question!\n                        </label>\n                        <input\n                            id=\"title\"\n                            type=\"text\"\n                            value={title}\n                            onChange={(e) => setTitle(e.target.value)}\n                            placeholder=\"What's your idea?\"\n                            className={`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${errors.title ? \"border-destructive focus-visible:ring-destructive\" : \"border-input\"}`}\n                            disabled={isPending}\n                        />\n                        {errors.title && <p className=\"text-sm font-medium text-destructive\">{errors.title}</p>}\n                    </div>\n\n                    <div className=\"space-y-2\">\n                        <label htmlFor=\"description\" className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\n                            Description\n                        </label>\n                        <textarea\n                            id=\"description\"\n                            value={description}\n                            onChange={(e) => setDescription(e.target.value)}\n                            placeholder=\"Describe your idea in detail...\"\n                            className={`flex min-h-[120px] w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${errors.description ? \"border-destructive focus-visible:ring-destructive\" : \"border-input\"}`}\n                            disabled={isPending}\n                        />\n                        {errors.description && <p className=\"text-sm font-medium text-destructive\">{errors.description}</p>}\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                            {description.length}/5000 characters\n                        </p>\n                    </div>\n\n                    <div className=\"flex gap-3 pt-4\">\n                        <Button\n                            type=\"button\"\n                            variant=\"secondary\"\n                            size=\"pill\"\n                            onClick={() => router.back()}\n                            disabled={isPending}\n                        >\n                            Cancel\n                        </Button>\n                        <Button\n                            type=\"submit\"\n                            variant=\"shimmer-primary\"\n                            size=\"pill\"\n                            disabled={isPending}\n                        >\n                            {isPending ? (\n                                <>\n                                    <span className=\"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full\" />\n                                    Creating...\n                                </>\n                            ) : (\n                                <>\n                                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                                        <path d=\"M12 5v14M5 12h14\" />\n                                    </svg>\n                                    POST\n                                </>\n                            )}\n                        </Button>\n                    </div>\n                </form>\n            </main>\n        </>\n    );\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}