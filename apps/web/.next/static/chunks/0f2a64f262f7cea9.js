(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40987,e=>{"use strict";e.i(43083),e.i(73133),e.i(43476),e.i(22016),e.s([],40987)},86311,e=>{"use strict";let s=(0,e.i(75254).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["MessageSquare",()=>s],86311)},18566,(e,s,t)=>{s.exports=e.r(76562)},64036,e=>{"use strict";var s=e.i(43476),t=e.i(25913),r=e.i(52088);let a=(0,t.cva)("rounded-xl border transition-all duration-200",{variants:{variant:{default:"bg-card text-card-foreground shadow-sm",glass:"bg-[#09090b] border-white/5 text-foreground shadow-lg shadow-black/10 hover:border-white/10 rounded-3xl","glass-shimmer":"group relative bg-[#09090b]/80 border-white/5 text-foreground shadow-2xl hover:border-white/10 hover:shadow-[0_0_40px_-10px_rgba(255,255,255,0.1)] rounded-3xl overflow-hidden backdrop-blur-md",elevated:"bg-card text-card-foreground shadow-xl shadow-black/20 border-white/10"},padding:{none:"",sm:"p-4",md:"p-6",lg:"p-6 md:p-8"}},defaultVariants:{variant:"default",padding:"none"}});function l({className:e,variant:t,padding:l,children:d,...n}){return(0,s.jsxs)("div",{"data-slot":"card",className:(0,r.cn)(a({variant:t,padding:l,className:e})),...n,children:["glass-shimmer"===t&&(0,s.jsx)("div",{className:"absolute inset-0 -z-10 bg-linear-to-r from-transparent via-white/5 to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100"}),d]})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...t})}function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...t})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-sm text-muted-foreground",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("p-6 pt-0",e),...t})}e.s(["Card",()=>l,"CardContent",()=>i,"CardDescription",()=>o,"CardHeader",()=>d,"CardTitle",()=>n])},7347,e=>{"use strict";var s=e.i(43476),t=e.i(91918),r=e.i(25913),a=e.i(52088);let l=(0,r.cva)("inline-flex items-center justify-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500/15 text-emerald-500 hover:bg-emerald-500/25",warning:"border-transparent bg-amber-500/15 text-amber-500 hover:bg-amber-500/25",danger:"border-transparent bg-rose-500/15 text-rose-500 hover:bg-rose-500/25",glass:"border-white/10 bg-white/5 text-foreground backdrop-blur-md shadow-sm"}},defaultVariants:{variant:"default"}});function d({className:e,variant:r,asChild:d=!1,...n}){let o=d?t.Slot:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,a.cn)(l({variant:r}),e),...n})}e.s(["Badge",()=>d])},3116,e=>{"use strict";let s=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],3116)},90042,e=>{"use strict";var s=e.i(43476),t=e.i(52088);function r({className:e,...r}){return(0,s.jsx)("div",{"data-slot":"skeleton",className:(0,t.cn)("bg-accent animate-pulse rounded-md",e),...r})}e.s(["Skeleton",()=>r])},25652,e=>{"use strict";let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>s],25652)},39798,e=>{"use strict";var s=e.i(43476),t=e.i(71645);e.i(40987);var r=e.i(43083),a=e.i(22016),l=e.i(52088),d=e.i(64036),n=e.i(7347),o=e.i(65833),i=e.i(70346),c=e.i(37219),x=e.i(46696),u=e.i(18566);let m=(0,e.i(75254).default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var h=e.i(86311),g=e.i(25652),f=e.i(3116);function p({idea:e,variant:t="glass"}){let r=(0,u.useRouter)(),{user:p,isAuthenticated:b,loading:v}=(0,c.useAuth)(),{mutate:j,isPending:w}=(0,i.useVote)(e.id),{mutate:N,isPending:y}=(0,i.useRemoveVote)(e.id),k=e.user_vote?.value,_=(e.upvotes_count??0)-(e.downvotes_count??0),M=_>0,C=(s,t)=>{if(s.preventDefault(),s.stopPropagation(),!v){if(!b){x.toast.info("Please sign in to vote"),r.push(`/login?redirectTo=/ideas/${e.id}`);return}k===t?N():j(t)}};return(0,s.jsx)(a.default,{href:`/ideas/${e.id}`,className:"group block h-full",children:(0,s.jsxs)(d.Card,{variant:"glass-shimmer",className:"relative h-full flex flex-col transition-all duration-500 hover:-translate-y-1",children:[(0,s.jsx)("div",{className:"absolute -right-20 -top-20 h-64 w-64 rounded-full bg-[#7877c6]/10 blur-[80px] transition-all duration-700 group-hover:bg-[#7877c6]/20"}),(0,s.jsxs)("div",{className:"relative z-10 flex flex-1 flex-col p-5 md:p-8",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(o.Avatar,{className:"h-10 w-10 border border-white/10 shadow-sm",children:[(0,s.jsx)(o.AvatarImage,{src:e.author?.avatar_url||void 0,className:"object-cover"}),(0,s.jsx)(o.AvatarFallback,{className:"bg-white/5 text-xs text-muted-foreground",children:(0,l.getInitials)(e.author?.full_name)})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-foreground/90 line-clamp-1",children:e.author?.full_name||"Anonymous"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,l.formatDistanceToNow)(e.created_at)})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[_>5&&(0,s.jsxs)(n.Badge,{variant:"default",className:"gap-1.5 px-3 py-1 rounded-full bg-[#7877c6]/10 text-[#7877c6] border border-[#7877c6]/20 backdrop-blur-md",children:[(0,s.jsx)(g.TrendingUp,{className:"h-3 w-3"}),"Trending"]}),!M&&(0,s.jsxs)(n.Badge,{variant:"glass",className:"gap-1.5 px-3 py-1 rounded-full text-muted-foreground bg-white/5 border-white/5 shadow-none",children:[(0,s.jsx)(f.Clock,{className:"h-3 w-3"}),"New"]})]})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)("h3",{className:"font-heading text-xl md:text-2xl font-bold leading-tight text-foreground transition-colors group-hover:text-primary",children:e.title}),(0,s.jsx)("p",{className:"line-clamp-3 text-sm leading-relaxed text-muted-foreground/80 group-hover:text-muted-foreground/90 transition-colors",children:e.description})]})]}),(0,s.jsx)("div",{className:"relative z-10 mt-auto border-t border-white/5 bg-white/[0.02] p-4 backdrop-blur-sm transition-colors group-hover:bg-white/[0.04]",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 rounded-full bg-black/20 p-1 ring-1 ring-white/5 backdrop-blur-md",children:[(0,s.jsx)("button",{onClick:e=>C(e,1),disabled:w||y||v,className:(0,l.cn)("flex h-8 w-10 items-center justify-center rounded-full transition-all active:scale-95 disabled:opacity-50",1===k?"bg-emerald-500/20 text-emerald-400 shadow-[0_0_10px_-2px_rgba(16,185,129,0.3)]":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:(0,s.jsx)(m,{className:"h-4 w-4 -rotate-45"})}),(0,s.jsx)("span",{className:(0,l.cn)("min-w-[1.5rem] text-center text-sm font-bold tabular-nums",_>0?"text-emerald-400":_<0?"text-rose-400":"text-muted-foreground"),children:_>0?`+${_}`:_}),(0,s.jsx)("button",{onClick:e=>C(e,-1),disabled:w||y||v,className:(0,l.cn)("flex h-8 w-10 items-center justify-center rounded-full transition-all active:scale-95 disabled:opacity-50",-1===k?"bg-rose-500/20 text-rose-400 shadow-[0_0_10px_-2px_rgba(244,63,94,0.3)]":"text-muted-foreground hover:bg-white/5 hover:text-foreground"),children:(0,s.jsx)(m,{className:(0,l.cn)("h-4 w-4 rotate-135")})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs font-medium text-muted-foreground",children:[(0,s.jsx)(h.MessageSquare,{className:"h-4 w-4 opacity-70"}),(0,s.jsx)("span",{children:e.comments_count||0})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs font-bold text-primary opacity-0 -translate-x-2 transition-all duration-300 group-hover:opacity-100 group-hover:translate-x-0",children:["View",(0,s.jsx)(m,{className:"h-3 w-3"})]})]})]})})]})})}e.i(16455);var b=e.i(30338),v=e.i(85902),j=e.i(90042);function w({sort:e="votes_desc"}){let{data:t,fetchNextPage:r,hasNextPage:a,isFetchingNextPage:l,isLoading:d,isError:n,error:o}=(0,b.useIdeas)({sort:e});if(d)return(0,s.jsx)(N,{});if(n)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border border-dashed border-border bg-card/50 p-12 text-center",children:[(0,s.jsx)("p",{className:"font-display text-xl font-semibold text-foreground",children:"Error loading ideas"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:o?.message||"Something went wrong. Please try again."})]});let i=t?.pages.flatMap(e=>e.data)??[];return 0===i.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border border-dashed border-border bg-card/50 p-16 text-center",children:[(0,s.jsx)("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted",children:(0,s.jsx)("svg",{className:"h-8 w-8 text-muted-foreground",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:(0,s.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,s.jsx)("p",{className:"font-display text-xl font-semibold text-foreground",children:"No ideas yet"}),(0,s.jsx)("p",{className:"mt-2 max-w-sm text-sm text-muted-foreground mb-6",children:"Be the first to share an idea!"}),(0,s.jsx)(v.Button,{variant:"mint",size:"pill",asChild:!0,children:(0,s.jsx)("a",{href:"/ideas/new",children:"Create Idea"})})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.map((e,t)=>(0,s.jsx)(p,{idea:e,variant:"default"},e.id)),a&&(0,s.jsx)("div",{className:"flex justify-center pt-4",children:(0,s.jsx)(v.Button,{variant:"secondary",size:"pill",onClick:()=>r(),disabled:l,children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Loading..."]}):"Load more"})})]})}function N(){return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,s.jsxs)("div",{className:"relative flex flex-col overflow-hidden rounded-2xl border border-white/5 bg-[#09090b]/80 backdrop-blur-md",children:[(0,s.jsxs)("div",{className:"flex flex-1 flex-col p-5 md:p-8",children:[(0,s.jsxs)("div",{className:"mb-6 flex items-start justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(j.Skeleton,{className:"h-10 w-10 rounded-full"}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(j.Skeleton,{className:"h-4 w-24"}),(0,s.jsx)(j.Skeleton,{className:"h-3 w-16"})]})]}),(0,s.jsx)(j.Skeleton,{className:"h-6 w-16 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,s.jsx)(j.Skeleton,{className:"h-7 md:h-8 w-4/5"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(j.Skeleton,{className:"h-4 w-full"}),(0,s.jsx)(j.Skeleton,{className:"h-4 w-full"}),(0,s.jsx)(j.Skeleton,{className:"h-4 w-2/3"})]})]})]}),(0,s.jsx)("div",{className:"border-t border-white/5 bg-white/[0.02] p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(j.Skeleton,{className:"h-10 w-28 rounded-full"}),(0,s.jsx)(j.Skeleton,{className:"h-5 w-12"})]})})]},e))})}var y=e.i(28876);let k=[{value:"votes_desc",label:"Most Votes",icon:"â–¼"},{value:"votes_asc",label:"Least Votes",icon:"â–²"},{value:"created_desc",label:"Newest First",icon:"ðŸ•"},{value:"created_asc",label:"Oldest First",icon:"ðŸ•"}];function _({value:e,onChange:t}){let r=k.find(s=>s.value===e);return(0,s.jsxs)(y.DropdownMenu,{children:[(0,s.jsx)(y.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(v.Button,{variant:"secondary",size:"pill-sm",className:"gap-2",children:[(0,s.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M3 6h18M6 12h12M9 18h6"})}),"Sort: ",r?.label||"Most Votes",(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,s.jsx)("path",{d:"M6 9l6 6 6-6"})})]})}),(0,s.jsxs)(y.DropdownMenuContent,{align:"end",children:[(0,s.jsx)(y.DropdownMenuLabel,{className:"text-xs text-muted-foreground",children:"Sort by Votes"}),(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>t("votes_desc"),className:"votes_desc"===e?"bg-accent":"",children:[(0,s.jsx)("span",{className:"mr-2",children:"â–¼"})," Most Votes"]}),(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>t("votes_asc"),className:"votes_asc"===e?"bg-accent":"",children:[(0,s.jsx)("span",{className:"mr-2",children:"â–²"})," Least Votes"]}),(0,s.jsx)(y.DropdownMenuSeparator,{}),(0,s.jsx)(y.DropdownMenuLabel,{className:"text-xs text-muted-foreground",children:"Sort by Time"}),(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>t("created_desc"),className:"created_desc"===e?"bg-accent":"",children:[(0,s.jsx)("span",{className:"mr-2",children:"ðŸ•"})," Newest First"]}),(0,s.jsxs)(y.DropdownMenuItem,{onClick:()=>t("created_asc"),className:"created_asc"===e?"bg-accent":"",children:[(0,s.jsx)("span",{className:"mr-2",children:"ðŸ•"})," Oldest First"]})]})]})}function M(){let[e,a]=(0,t.useState)("votes_desc");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Header,{}),(0,s.jsxs)("main",{className:"mx-auto w-full max-w-[1600px] px-4 md:px-8 pt-24 md:pt-32 pb-12",children:[(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsx)(_,{value:e,onChange:a})}),(0,s.jsx)(w,{sort:e})]})]})}e.s(["default",()=>M],39798)}]);