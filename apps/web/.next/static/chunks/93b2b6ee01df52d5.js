(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},40987,e=>{"use strict";e.i(43083),e.i(73133),e.i(43476),e.i(22016),e.s([],40987)},54588,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(18566);e.i(40987);var r=e.i(43083),a=e.i(85902);e.i(16455);var l=e.i(30338),n=e.i(37219);function d(){let e=(0,i.useRouter)(),{isAuthenticated:d,loading:o}=(0,n.useAuth)(),{mutate:c,isPending:u}=(0,l.useCreateIdea)(),[m,x]=(0,s.useState)(""),[p,h]=(0,s.useState)(""),[b,f]=(0,s.useState)({});return((0,s.useEffect)(()=>{o||d||e.push("/login?redirectTo=/ideas/new")},[o,d,e]),o)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Header,{}),(0,t.jsx)("main",{className:"main-container",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)("div",{className:"loading-spinner"})})})]}):d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Header,{}),(0,t.jsxs)("main",{className:"mx-auto max-w-7xl px-6 pt-32 pb-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"font-display text-2xl font-bold text-foreground mb-2",children:"New Idea"}),(0,t.jsx)("p",{className:"font-sans text-base text-muted-foreground",children:"Share your idea with the community"})]}),(0,t.jsxs)("form",{onSubmit:t=>{let s;t.preventDefault(),s={},m.trim()?m.length<3?s.title="Title must be at least 3 characters":m.length>200&&(s.title="Title must be at most 200 characters"):s.title="Title is required",p.trim()?p.length<10?s.description="Description must be at least 10 characters":p.length>5e3&&(s.description="Description must be at most 5000 characters"):s.description="Description is required",f(s),0===Object.keys(s).length&&c({title:m.trim(),description:p.trim()},{onSuccess:t=>{let s=t?.data?.id;s?e.push(`/ideas/${s}`):e.push("/")}})},className:"max-w-xl space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"title",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Enter your question!"}),(0,t.jsx)("input",{id:"title",type:"text",value:m,onChange:e=>x(e.target.value),placeholder:"What's your idea?",className:`flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${b.title?"border-destructive focus-visible:ring-destructive":"border-input"}`,disabled:u}),b.title&&(0,t.jsx)("p",{className:"text-sm font-medium text-destructive",children:b.title})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:"description",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Description"}),(0,t.jsx)("textarea",{id:"description",value:p,onChange:e=>h(e.target.value),placeholder:"Describe your idea in detail...",className:`flex min-h-[120px] w-full rounded-md border bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${b.description?"border-destructive focus-visible:ring-destructive":"border-input"}`,disabled:u}),b.description&&(0,t.jsx)("p",{className:"text-sm font-medium text-destructive",children:b.description}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[p.length,"/5000 characters"]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(a.Button,{type:"button",variant:"secondary",size:"pill",onClick:()=>e.back(),disabled:u,children:"Cancel"}),(0,t.jsx)(a.Button,{type:"submit",variant:"shimmer-primary",size:"pill",disabled:u,children:u?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M12 5v14M5 12h14"})}),"POST"]})})]})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Header,{}),(0,t.jsx)("main",{className:"main-container",children:(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)("div",{className:"loading-spinner"}),(0,t.jsx)("span",{className:"ml-2 text-muted-foreground",children:"Redirecting to login..."})]})})]})}e.s(["default",()=>d])}]);